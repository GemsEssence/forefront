<% activities = local_assigns[:activities] || [] %>
<% actable = local_assigns[:actable] %>

<div id="activities_list_container_<%= actable&.id || 'default' %>">
  <% if activities.any? %>
    <div class="mt-8 bg-white shadow sm:rounded-lg">
      <div class="px-4 py-5 sm:p-6">
        <h3 class="text-lg font-medium text-gray-900 mb-4">Activities</h3>
        
        <div class="flow-root">
          <ul id="activities_list_<%= actable&.id || 'default' %>" class="-mb-8">
            <% activities.each_with_index do |activity, index| %>
              <%= render "forefront/activities/activity", activity: activity, index: index, total: activities.length %>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% else %>
    <div class="mt-8 bg-white shadow sm:rounded-lg">
      <div class="px-4 py-5 sm:p-6 text-center">
        <p class="text-gray-500">No activities yet. Be the first to add one!</p>
      </div>
      <ul id="activities_list_<%= actable&.id || 'default' %>" class="hidden"></ul>
    </div>
  <% end %>
</div>

